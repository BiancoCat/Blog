---

import { profileConfig } from "../config";
import { url } from "../utils/url-utils";

const currentYear = new Date().getFullYear();
---

<!--<div class="border-t border-[var(&#45;&#45;primary)] mx-16 border-dashed py-8 max-w-[var(&#45;&#45;page-width)] flex flex-col items-center justify-center px-6">-->
<div class="transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32"></div>
<!--<div class="transition bg-[oklch(92%_0.01_var(&#45;&#45;hue))] dark:bg-black rounded-2xl py-8 mt-4 mb-8 flex flex-col items-center justify-center px-6">-->
<div class="transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6">
    <div class="transition text-50 text-sm text-center">
        &copy; <span id="copyright-year">{currentYear}</span> {profileConfig.name}. All Rights Reserved. /
        <a class="transition link text-[var(--primary)] font-medium" target="_blank" href={url('rss.xml')}>RSS</a> /
        <!-- <a class="transition link text-[var(--primary)] font-medium" target="_blank" href={url('sitemap-index.xml')}>Sitemap</a> -->
        <br>
        Powered by
        <!-- <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://astro.build">Astro</a> & -->
        <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/BiancoCat/Blog">Fuwari for bianco</a><br>
        <a href="https://beian.miit.gov.cn/" target="_blank">陕ICP备2025063044号</a>
        <br>
        <!--网站运行时间-->
        <span id="sitetime" class="color-change"></span>
        <script>
            (function siteTime(){
                try {
                    setTimeout(siteTime, 1000);

                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;

                    var today = new Date();
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth(); // 修正：getMonth() 返回 0-11
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();

                    var t1 = Date.UTC(2025, 3, 26, 0, 0, 0); /*这里修改为建站时间（注意：月份从0开始，0=一月）*/
                    var t2 = Date.UTC(
                        todayYear,
                        todayMonth,
                        todayDate,
                        todayHour,
                        todayMinute,
                        todaySecond,
                    );

                    var diff = t2 - t1;

                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor(diff / days - diffYears * 365);
                    var diffHours = Math.floor(
                        (diff - (diffYears * 365 + diffDays) * days) / hours,
                    );
                    var diffMinutes = Math.floor(
                        (diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes,
                    );
                    var diffSeconds = Math.floor(
                        (diff -
                            (diffYears * 365 + diffDays) * days -
                            diffHours * hours -
                            diffMinutes * minutes) /
                            seconds,
                    );

                    var el = document.getElementById("sitetime");
                    if (el) {
                        el.innerText = ` 本站已运行 ${diffYears} 年 ${diffDays} 天 ${diffHours} 小时 ${diffMinutes} 分钟 ${diffSeconds} 秒 `;
                    }
                } catch (e) {
                    // silently fail to avoid breaking the page
                    console.error('siteTime error', e);
                }
            })();
        </script>
    </div>
</div>